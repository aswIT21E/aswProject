<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="stylesheet" type="text/css" href="/stylesheets/profile.css" />
        <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400&display=swap" rel="stylesheet" />
        <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
        <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
        <title>Profile</title>
    </head>
    <body>
      <header id="header">
        <div class="left">
          <a href="http://localhost:8081/issue"><ion-icon name="list"></ion-icon></a>
      </div>
      <div class="right">
        <button id="profile-btn" onclick="goToProfile()"><ion-icon name="person"></ion-icon></button>
      </div>
      </header>
      <div class="button">
        <button id="editPerfil">Editar Perfil</button>
      </div>
        <div class="profile" id="myProfile">
        </div>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
            var editElem = document.getElementById('editPerfil');
            editElem.addEventListener('click', function () {
                console.log("entro");
                viewProfile();
            });
            console.log(editElem);
            function viewProfile(){
                const auth = localStorage.getItem('token');
                window.location.href = `http://localhost:8081/myProfile/${auth}/edit`;
            };
        });
      </script>
    </body>

    <script>
      function goToProfile() {
      const token = localStorage.getItem('token');

      const url = `http://localhost:8081/myProfile/${token}`;

      window.location.href = url;

    }
    </script>
</html>